# 取り組んだ課題一覧
- Django　ECサイト
    - プロモーションコード実装

## わかったこと
- カスタムコマンドでオプションのバリデーションチェックで発生したエラーはCommandError()で出力できる
- `set`の和集合を使用することで、if分の内容を簡潔にすることができる。
```python
# 冗長な記述
if A in B or A in C:
    continue

# 和集合を使用した記述でスッキリ
if A in B | C:
    continue
```
- モデルのインスタンスをリストに格納すると、bulk_create()を使ってDBに一括登録できる
```
<Model>.objects,bulk_create(<list>)
```

## 次やること
- プロモーションコード実装
    - プロモーションコードを適用する処理        
    - 必要なバリデータの作成

## 感じたこと
- カスタムコマンド実行時にオプションを指定した際のバリデーションチェックを実装しました。課題の要件外ではありますが、実装したことでCommandErrorの使い方も学ぶことができました。また、このバリデーションをきっかけにプロモーションコードのモデルに存在したマジックナンバー（割引額の最小と最大など）を回避することができ、結果的にコードの見通しが良くなったと思います。
- 生成したコードを一つずつDBに保存せずに、一括登録できないものかと調べたところ、bulk_create()を使用すると良いことを知りました。
- 明日は、カートページでプロモーションコードを適用する処理を実装したいと思います。    

## 学習時間
8 h （今週: 8 h, 今月:11.5 h, 累計: 1398.5 h）